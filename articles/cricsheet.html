<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Cricsheet data • cricketdata</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Sans-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Cricsheet data">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cricketdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/cricinfo.html">ESPNCricinfo data</a></li>
    <li><a class="dropdown-item" href="../articles/cricketdata_R_pkg.html">cricketdata: An Open Source R package</a></li>
    <li><a class="dropdown-item" href="../articles/cricsheet.html">Cricsheet data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/robjhyndman/cricketdata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Cricsheet data</h1>
                        <h4 data-toc-skip class="author">Jacquie
Tran</h4>
            
            <h4 data-toc-skip class="date">7 November 2021</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/robjhyndman/cricketdata/blob/master/vignettes/cricsheet.Rmd" class="external-link"><code>vignettes/cricsheet.Rmd</code></a></small>
      <div class="d-none name"><code>cricsheet.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkg.robjhyndman.com/cricketdata/" class="external-link">cricketdata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/yixuan/showtext" class="external-link">showtext</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: sysfonts</span></span>
<span><span class="co">#&gt; Loading required package: showtextdb</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yutannihilation.github.io/gghighlight/" class="external-link">gghighlight</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://wilkelab.org/ggtext/" class="external-link">ggtext</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span></span></code></pre></div>
<p>The <code><a href="../reference/fetch_cricsheet.html">fetch_cricsheet()</a></code> function will download csv data
from <a href="https://cricsheet.org/downloads/" class="external-link">Cricsheet</a>. Data must
be specified by three factors: (a) <code>type</code> of data:
<code>bbb</code> (ball-by-ball), <code>match</code> or
<code>player</code>; (b) <code>gender</code>; (c)
<code>competition</code>.</p>
<p>Here are some examples of its use with some WBBL data. An earlier
version of this article was published at <a href="https://underthehood.jacquietran.com/post/wbbl-visualisations/" class="external-link uri">https://underthehood.jacquietran.com/post/wbbl-visualisations/</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fetch ball-by-ball data</span></span>
<span><span class="va">wbbl_bbb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_cricsheet.html">fetch_cricsheet</a></span><span class="op">(</span>competition <span class="op">=</span> <span class="st">"wbbl"</span>, gender <span class="op">=</span> <span class="st">"female"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fetch match metadata</span></span>
<span><span class="va">wbbl_match_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_cricsheet.html">fetch_cricsheet</a></span><span class="op">(</span>competition <span class="op">=</span> <span class="st">"wbbl"</span>, type <span class="op">=</span> <span class="st">"match"</span>, gender <span class="op">=</span> <span class="st">"female"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="alyssa-healys-wbbl-batting-record">Alyssa Healy’s WBBL batting record<a class="anchor" aria-label="anchor" href="#alyssa-healys-wbbl-batting-record"></a>
</h2>
<p>What is there to say about Alyssa Healy that hasn’t already been
written by a far better writer than I? She’s a dangerous batter at every
level she plays at, so I wanted to visualise her production across
seasons, compared to other batters in the WBBL.</p>
<div class="section level3">
<h3 id="tidying-the-data">Tidying the data<a class="anchor" aria-label="anchor" href="#tidying-the-data"></a>
</h3>
<p>On exploring the Cricsheet data, I noticed that there are only 10
matches from WBBL01 with ball-by-ball data, but there were 59 matches
played in the 1st season of WBBL (per <a href="https://en.wikipedia.org/wiki/2015%E2%80%9316_Women%27s_Big_Bash_League_season" class="external-link">Wikipedia</a>).</p>
<p>Additionally, when I originally worked on this plot of Healy vs. the
world, it was mid-October 2021 and the first ball of #WBBL07 had yet to
be bowled. Now, we are reproducing the chart as we are part-way through
the current season, so the code below also omits data from any matches
played so far in this 7th season.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data from 2015/16 (WBBL01) excluded due to only having 10 matches worth of data</span></span>
<span><span class="co"># in the Cricsheet spreadsheet.</span></span>
<span><span class="co"># Data from 2021/22 and later (WBBL07) excluded as incomplete at time of article</span></span>
<span><span class="va">wbbl_bbb_tidy</span> <span class="op">&lt;-</span> <span class="va">wbbl_bbb</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">season</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2015/16"</span>, <span class="st">"2021/22"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">start_date</span> <span class="op">&lt;</span> <span class="st">"2021-11-07"</span><span class="op">)</span></span></code></pre></div>
<p>The ball-by-ball data hosted by Cricsheet provides a great starting
point, but a little more tidying and wrangling is needed for the
purposes of understanding batting performances across WBBL seasons.</p>
<p>In cricket broadcasts, batting average is among the most common
statistic that commentators will reference to highlight how well a
player performs with willow in hand. Batting average is calculated by
taking runs scored by a batter over a defined period of time and
dividing it by the number of they have been dismissed over that same
period.</p>
<p>With this formula, the batting average metric can produce a somewhat
inflated measure of a batter’s performance over time, because the
denominator is dismissals and not total innings batted. On top of that,
the WBBL season is relatively short - in season 7, there are 14 fixtured
rounds, plus semi-finals and finals. So at maximum, a batter could play
16 innings in the current season. Others will bat far fewer innings than
that hypothetical maximum, so 2 or 3 not-out innings can have a sizeable
influence on batting average.</p>
<p>All things considered, including the T20 format of the WBBL, I was
more interested in Healy’s “production” in the sense of average runs
scored per innings.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Alyssa Healy compared to all players who have batted in 3+ innings in a season.</span></span>
<span><span class="va">batting_per_season</span> <span class="op">&lt;-</span> <span class="va">wbbl_bbb_tidy</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">season</span>, <span class="va">striker</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    innings_total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">match_id</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    runs_off_bat_total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">runs_off_bat</span><span class="op">)</span>,</span>
<span>    balls_faced_total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">ball</span><span class="op">)</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"keep"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    runs_per_innings_avg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">runs_off_bat_total</span> <span class="op">/</span> <span class="va">innings_total</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>    strike_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">runs_off_bat_total</span> <span class="op">/</span> <span class="va">balls_faced_total</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">innings_total</span> <span class="op">&gt;</span> <span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>is_healy <span class="op">=</span> <span class="op">(</span><span class="va">striker</span> <span class="op">==</span> <span class="st">"AJ Healy"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="making-a-plot">Making a plot<a class="anchor" aria-label="anchor" href="#making-a-plot"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Import fonts from Google Fonts</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/sysfonts/man/font_add_google.html" class="external-link">font_add_google</a></span><span class="op">(</span><span class="st">"Roboto Condensed"</span>, <span class="st">"roboto_con"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/sysfonts/man/font_add_google.html" class="external-link">font_add_google</a></span><span class="op">(</span><span class="st">"Staatliches"</span>, <span class="st">"staat"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html" class="external-link">showtext_auto</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build plot</span></span>
<span><span class="va">batting_per_season</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">season</span>, y <span class="op">=</span> <span class="va">runs_per_innings_avg</span>,</span>
<span>    group <span class="op">=</span> <span class="va">striker</span>, colour <span class="op">=</span> <span class="va">is_healy</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">2</span>, colour <span class="op">=</span> <span class="st">"#F80F61FF"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://yutannihilation.github.io/gghighlight/reference/gghighlight.html" class="external-link">gghighlight</a></span><span class="op">(</span><span class="va">is_healy</span>,</span>
<span>    label_key <span class="op">=</span> <span class="va">striker</span>,</span>
<span>    label_params <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="fl">6</span>, force_pull <span class="op">=</span> <span class="fl">0.1</span>, nudge_y <span class="op">=</span> <span class="fl">10</span>, label.size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      family <span class="op">=</span> <span class="st">"roboto_con"</span>, label.padding <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>      fill <span class="op">=</span> <span class="st">"#19232FFF"</span>,</span>
<span>      colour <span class="op">=</span> <span class="st">"#F80F61FF"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    unhighlighted_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">1</span>, color <span class="op">=</span> <span class="st">"#187999FF"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"WBBL: Average runs scored per innings (3+ innings)"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"**Source:** Cricsheet.org // **Plot:** @jacquietran"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">18</span>, family <span class="op">=</span> <span class="st">"roboto_con"</span>, colour <span class="op">=</span> <span class="st">"#FFFFFF"</span><span class="op">)</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"staat"</span>, margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">15</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    plot.caption <span class="op">=</span> <span class="fu"><a href="https://wilkelab.org/ggtext/reference/element_markdown.html" class="external-link">element_markdown</a></span><span class="op">(</span>size <span class="op">=</span> <span class="cn">NULL</span>, margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"#FFFFFF"</span><span class="op">)</span>,</span>
<span>    legend.position <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>    panel.grid.major <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_line</a></span><span class="op">(</span>linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span>,</span>
<span>    panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    plot.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span></span>
<span>      fill <span class="op">=</span> <span class="st">"#171F2AFF"</span>, colour <span class="op">=</span> <span class="cn">NA</span></span>
<span>    <span class="op">)</span>,</span>
<span>    panel.spacing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"lines"</span><span class="op">)</span>,</span>
<span>    plot.margin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>, <span class="st">"cm"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="cricsheet_files/figure-html/unnamed-chunk-4-1.png" width="100%"></p>
<p>When plotting Healy’s WBBL production against the rest of the comp,
what I see is “run machine” - consistent, high-end output over the last
5 WBBL seasons.</p>
<p>No hyperbole: there are few better than Alyssa Healy at the
crease.</p>
</div>
</div>
<div class="section level2">
<h2 id="dismissals-by-ball-number">Dismissals by ball number<a class="anchor" aria-label="anchor" href="#dismissals-by-ball-number"></a>
</h2>
<p>Aside from scoring runs, another important aspect of batting is not
losing your wicket. So how hard is it really to get the best batters
out?</p>
<p>I would love to dive into this question using high-resolution data
that reflects the biomechanics battle between bowlers and batters.
Enter: Hawkeye…except that Hawkeye is only sporadically available for
women’s matches, even at the highest level. As far as I know, there are
no publicly available Hawkeye data sets from WBBL matches. If I’m wrong,
please tell me and point me towards the good goods!</p>
<p><em>(<a href="https://twitter.com/CapitalCityCody/status/1448476292743983105" class="external-link">Cody
Atkinson</a> alerted me to the bounceR package by Richard Little, which
enables access to Hawkeye data that does exist on the ICC and BCCI
websites.)</em></p>
<div class="section level3">
<h3 id="tidying-the-data-1">Tidying the data<a class="anchor" aria-label="anchor" href="#tidying-the-data-1"></a>
</h3>
<p>In the absence of fancy Hawkeye data from the WBBL, I took a simpler
route through the Cricsheet ball-by-ball data to visualise how hard it
is to take the wicket of the likes of Healy, Beth Mooney, Meg Lanning,
Ellyse Perry, Sophie Devine, and Heather Knight.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create new variable for ball number in each over</span></span>
<span><span class="va">ball_number_faced</span> <span class="op">&lt;-</span> <span class="va">wbbl_bbb_tidy</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ball_num_in_over <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="st">".*\\."</span>, <span class="st">""</span>, <span class="va">ball</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Summarise number of balls faced of each ball number, per batter</span></span>
<span><span class="va">ball_number_faced_summary</span> <span class="op">&lt;-</span> <span class="va">ball_number_faced</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">ball_num_in_over</span>, <span class="va">striker</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>balls_faced <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Dismissals by ball number</span></span>
<span><span class="va">dismissals_by_ball_number</span> <span class="op">&lt;-</span> <span class="va">ball_number_faced</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ball_num_in_over</span>, <span class="va">striker</span>, <span class="va">wicket_type</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">wicket_type</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">ball_num_in_over</span>, <span class="va">striker</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>dismissals_n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span></span></code></pre></div>
<p>The code above shapes up the ball-by-ball data to record:</p>
<ul>
<li>How many balls a batter has faced at each ball number in an over
(1-6),</li>
<li>How many times a batter has been dismissed at each ball number.</li>
</ul>
<p>I made some editorial judgments too:</p>
<ul>
<li>Excluded data from WBBL01 due to limited games from that season in
the Cricsheet-hosted data</li>
<li>Excluded balls numbered 7+</li>
<li>League-wide data only includes batters who have faced 200+ balls
total (across WBBL02-06, inclusive)</li>
</ul>
<p>With the ball-by-ball data prepared for the analysis question, we can
then calculate league-wide and player-specific summary statistics for
dismissals by ball number:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Merge data and summarise to league-wide dismissals rate by ball number</span></span>
<span><span class="va">dismissals_by_ball_number_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>  <span class="va">ball_number_faced_summary</span>, <span class="va">dismissals_by_ball_number</span>,</span>
<span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ball_num_in_over"</span>, <span class="st">"striker"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/replace_na.html" class="external-link">replace_na</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dismissals_n <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">striker</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>total_balls_faced <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">balls_faced</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>dismissals_pct <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">dismissals_n</span> <span class="op">/</span> <span class="va">balls_faced</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Include those who have faced more than 200 balls total</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">total_balls_faced</span> <span class="op">&gt;=</span> <span class="fl">200</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Exclude balls beyond 6 - infrequent occurrences</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ball_num_in_over</span> <span class="op">&lt;</span> <span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract data for specific players</span></span>
<span><span class="co"># Healy</span></span>
<span><span class="va">dismissals_by_ball_number_summary_healy</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">striker</span> <span class="op">==</span> <span class="st">"AJ Healy"</span><span class="op">)</span></span>
<span><span class="co"># Mooney</span></span>
<span><span class="va">dismissals_by_ball_number_summary_mooney</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">striker</span> <span class="op">==</span> <span class="st">"BL Mooney"</span><span class="op">)</span></span>
<span><span class="co"># Lanning</span></span>
<span><span class="va">dismissals_by_ball_number_summary_lanning</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">striker</span> <span class="op">==</span> <span class="st">"MM Lanning"</span><span class="op">)</span></span>
<span><span class="co"># Perry</span></span>
<span><span class="va">dismissals_by_ball_number_summary_perry</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">striker</span> <span class="op">==</span> <span class="st">"EA Perry"</span><span class="op">)</span></span>
<span><span class="co"># Devine</span></span>
<span><span class="va">dismissals_by_ball_number_summary_devine</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">striker</span> <span class="op">==</span> <span class="st">"SFM Devine"</span><span class="op">)</span></span>
<span><span class="co"># Knight</span></span>
<span><span class="va">dismissals_by_ball_number_summary_knight</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">striker</span> <span class="op">==</span> <span class="st">"HC Knight"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="making-plots">Making plots<a class="anchor" aria-label="anchor" href="#making-plots"></a>
</h3>
<p>Here’s the code for building the plot I tweeted out. I decided to
build one plot per player of interest and then “quilt” the plots
together using the <code>patchwork</code> package (<a href="https://github.com/thomasp85/patchwork" class="external-link uri">https://github.com/thomasp85/patchwork</a>). I’m sure you
could achieve the same / similar result using
<code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">ggplot2::facet_wrap()</a></code> but I just love using
<code>patchwork</code> …</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define consistent plot features ----------------------------------------------</span></span>
<span><span class="va">plot_features</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"roboto_con"</span>, colour <span class="op">=</span> <span class="st">"#FFFFFF"</span><span class="op">)</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="fl">11</span>, family <span class="op">=</span> <span class="st">"staat"</span>, margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">15</span>, <span class="fl">0</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="fl">12</span>, family <span class="op">=</span> <span class="st">"staat"</span>, margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">15</span>, <span class="fl">0</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    plot.caption <span class="op">=</span> <span class="fu"><a href="https://wilkelab.org/ggtext/reference/element_markdown.html" class="external-link">element_markdown</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="fl">10</span>, margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">9</span>, colour <span class="op">=</span> <span class="st">"#FFFFFF"</span><span class="op">)</span>,</span>
<span>    legend.position <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>    panel.grid.major.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_line</a></span><span class="op">(</span>linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span>,</span>
<span>    panel.grid.major.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    plot.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span></span>
<span>      fill <span class="op">=</span> <span class="st">"#171F2AFF"</span>, colour <span class="op">=</span> <span class="cn">NA</span></span>
<span>    <span class="op">)</span>,</span>
<span>    panel.spacing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"lines"</span><span class="op">)</span>,</span>
<span>    plot.margin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span><span class="op">)</span>, <span class="st">"cm"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build plots ------------------------------------------------------------------</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html" class="external-link">showtext_auto</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Healy</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ball_num_in_over</span>, y <span class="op">=</span> <span class="va">dismissals_pct</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"#FFFFFF"</span>, colour <span class="op">=</span> <span class="st">"#FFFFFF"</span>, size <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">0.25</span>, notch <span class="op">=</span> <span class="cn">TRUE</span>, outlier.shape <span class="op">=</span> <span class="cn">NA</span>, coef <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">dismissals_by_ball_number_summary_healy</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"#F80F61FF"</span>, size <span class="op">=</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"WBBL: % dismissals by ball number"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"AJ Healy"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">plot_features</span></span>
<span></span>
<span><span class="co"># Mooney</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ball_num_in_over</span>, y <span class="op">=</span> <span class="va">dismissals_pct</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"#FFFFFF"</span>, colour <span class="op">=</span> <span class="st">"#FFFFFF"</span>, size <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">0.25</span>, notch <span class="op">=</span> <span class="cn">TRUE</span>, outlier.shape <span class="op">=</span> <span class="cn">NA</span>, coef <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">dismissals_by_ball_number_summary_mooney</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"#FA6900FF"</span>, size <span class="op">=</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"BL Mooney"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">plot_features</span></span>
<span></span>
<span><span class="co"># Lanning</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ball_num_in_over</span>, y <span class="op">=</span> <span class="va">dismissals_pct</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"#FFFFFF"</span>, colour <span class="op">=</span> <span class="st">"#FFFFFF"</span>, size <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">0.25</span>, notch <span class="op">=</span> <span class="cn">TRUE</span>, outlier.shape <span class="op">=</span> <span class="cn">NA</span>, coef <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">dismissals_by_ball_number_summary_lanning</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"#018821FF"</span>, size <span class="op">=</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"MM Lanning"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">plot_features</span></span>
<span></span>
<span><span class="co"># Perry</span></span>
<span><span class="va">p4</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ball_num_in_over</span>, y <span class="op">=</span> <span class="va">dismissals_pct</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"#FFFFFF"</span>, colour <span class="op">=</span> <span class="st">"#FFFFFF"</span>, size <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">0.25</span>, notch <span class="op">=</span> <span class="cn">TRUE</span>, outlier.shape <span class="op">=</span> <span class="cn">NA</span>, coef <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">dismissals_by_ball_number_summary_perry</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"#F80F61FF"</span>, size <span class="op">=</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"EA Perry"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">plot_features</span></span>
<span></span>
<span><span class="co"># Devine</span></span>
<span><span class="va">p5</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ball_num_in_over</span>, y <span class="op">=</span> <span class="va">dismissals_pct</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"#FFFFFF"</span>, colour <span class="op">=</span> <span class="st">"#FFFFFF"</span>, size <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">0.25</span>, notch <span class="op">=</span> <span class="cn">TRUE</span>, outlier.shape <span class="op">=</span> <span class="cn">NA</span>, coef <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">dismissals_by_ball_number_summary_devine</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"#FA6900FF"</span>, size <span class="op">=</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"SFM Devine"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">plot_features</span></span>
<span></span>
<span><span class="co"># Knight</span></span>
<span><span class="va">p6</span> <span class="op">&lt;-</span> <span class="va">dismissals_by_ball_number_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ball_num_in_over</span>, y <span class="op">=</span> <span class="va">dismissals_pct</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"#FFFFFF"</span>, colour <span class="op">=</span> <span class="st">"#FFFFFF"</span>, size <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">0.25</span>, notch <span class="op">=</span> <span class="cn">TRUE</span>, outlier.shape <span class="op">=</span> <span class="cn">NA</span>, coef <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">dismissals_by_ball_number_summary_knight</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"#95C65CFF"</span>, size <span class="op">=</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    subtitle <span class="op">=</span> <span class="st">"HC Knight"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"**Source:** Cricsheet.org // **Plot:** @jacquietran"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">plot_features</span></span>
<span></span>
<span><span class="co"># Quilt the plots --------------------------------------------------------------</span></span>
<span><span class="op">(</span><span class="va">p1</span> <span class="op">+</span> <span class="va">p2</span> <span class="op">+</span> <span class="va">p3</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">p4</span> <span class="op">+</span> <span class="va">p5</span> <span class="op">+</span> <span class="va">p6</span><span class="op">)</span></span></code></pre></div>
<p><img src="cricsheet_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
<p>My key observations:</p>
<ol style="list-style-type: decimal">
<li>Lanning doesn’t give much away on any ball number in an over - of
balls faced at each ball number (1-6), her dismissals percentages range
from 2.7-3.4%. Well under league medians of 4.3-5.1%.</li>
<li>Perry is a stalwart too, but relative to her own standards, you
might have a better shot bowling to her on balls 5 (2.7%) and 6 (3.4%)
than earlier in an over (1.4-2.4%).</li>
<li>Healy is obviously dangerous with how quickly she can accelerate her
run-scoring, but is she susceptible on ball 5? (dismissed 7.1% out of
balls faced vs. 4.7% as the league median for ball number 5)</li>
<li>The opening partnership of Mooney / Devine is a scary prospect,
reason #4182: they’re both hard to shift from the crease. Devine’s
“worst” ball is ball number 3 (4.3%), Mooney’s is ball number 5 (4.5%) -
both are still below league medians (4.8% and 4.7%, respectively).</li>
<li>Knight is stubborn for balls 1-3 (1.7-2.8%), looser than the league
medians for balls 4 and 5 (7.7% and 5.5%, respectively), then clamps
down again for ball 6 (3.2%).</li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="wiggly-bois-visualising-team-strike-rates">“Wiggly bois”: Visualising team strike rates<a class="anchor" aria-label="anchor" href="#wiggly-bois-visualising-team-strike-rates"></a>
</h2>
<p>Player and league summaries across seasons are great and all, but
what really piques my interest with ball-by-ball / play-by-play data is
using it to understand how matches unfold from moment to moment.</p>
<p>The very nature of cricket’s shortest format, T20, lends itself to
batting aggression - recruiting for power hitters, aiming to demoralise
the opposition by setting big targets, and building teams that bat deep.
That last point is particularly important in T20 because aggressive
batting means taking risks, and as long as there is risk taking by the
batters, then the bowling side is in with a chance.</p>
<p>Commentators will generally focus on player strike rates in T20; that
is, how many runs a batter scores for the number of balls faced. For
instance, power hitters like Sophie Devine routinely achieve strike
rates over 120 (i.e., 120 runs scored per 100 balls) - we can think of
this as a measure of scoring efficiency.</p>
<p>A common perception is that snagging a wicket will slow down strike
rates, but I wondered whether this is really true in the T20 context
where the imperative to accelerate is paramount. Teams will also expect
to lose some wickets in every innings, so I’d imagine they would recruit
and train accordingly for a potent middle order and a tail that
wags.</p>
<p>Instead of looking at player strike rates, what can we learn by
analysing team <em>strike rates</em>?</p>
<div class="section level3">
<h3 id="tidying-the-data-2">Tidying the data<a class="anchor" aria-label="anchor" href="#tidying-the-data-2"></a>
</h3>
<p>For a more granular focus, I created a subset from the Cricsheet data
that includes matches played in season 7 of the WBBL. At the time I
produced my original visualisation, the ball-by-ball data included all
games played up to 7 November 2021.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Subset match metadata for WBB07 games</span></span>
<span><span class="va">wbbl07_match_info_tidy</span> <span class="op">&lt;-</span> <span class="va">wbbl_match_info</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">season</span> <span class="op">==</span> <span class="st">"2021/22"</span>, <span class="va">date</span> <span class="op">&lt;=</span> <span class="st">"2021/11/07"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    <span class="va">match_id</span>, <span class="va">winner</span>, <span class="va">winner_runs</span>, <span class="va">winner_wickets</span>, <span class="va">method</span>, <span class="va">outcome</span>,</span>
<span>    <span class="va">eliminator</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>match_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">match_id</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Subset ball-by-ball data for WBBL07 games</span></span>
<span><span class="va">wbbl07_bbb_tidy</span> <span class="op">&lt;-</span> <span class="va">wbbl_bbb</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">match_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">wbbl07_match_info_tidy</span><span class="op">$</span><span class="va">match_id</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    match_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">match_id</span><span class="op">)</span>,</span>
<span>    runs_scored <span class="op">=</span> <span class="va">runs_off_bat</span> <span class="op">+</span> <span class="va">extras</span>,</span>
<span>    wicket_type <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">wicket_type</span> <span class="op">==</span> <span class="st">""</span> <span class="op">~</span> <span class="cn">NA_character_</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">wicket_type</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">match_id</span>, <span class="va">innings</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    temp_var <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    balls_cumulative <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="va">temp_var</span><span class="op">)</span>,</span>
<span>    runs_cumulative <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="va">runs_scored</span><span class="op">)</span>,</span>
<span>    runs_total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">runs_cumulative</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">temp_var</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Merge match metadata and ball-by-ball data</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">wbbl07_match_info_tidy</span>, by <span class="op">=</span> <span class="st">"match_id"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    outcome_batting_team <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">outcome</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no result"</span>, <span class="st">"tie"</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span>,</span>
<span>      <span class="va">winner</span> <span class="op">==</span> <span class="va">batting_team</span> <span class="op">~</span> <span class="st">"won"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"lost"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    outcome_bowling_team <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">outcome</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no result"</span>, <span class="st">"tie"</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span>,</span>
<span>      <span class="va">winner</span> <span class="op">==</span> <span class="va">bowling_team</span> <span class="op">~</span> <span class="st">"won"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"lost"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>Using the WBBL07 data subset, I did some further tidying to calculate
team strike rates per innings:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">team_strike_rate</span> <span class="op">&lt;-</span> <span class="va">wbbl07_bbb_tidy</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Exclude matches that ended with a Super Over ("tie")</span></span>
<span>  <span class="co"># and matches that were called off ("no result")</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">outcome_batting_team</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tie"</span>, <span class="st">"no result"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">match_id</span>, <span class="va">innings</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    rolling_strike_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span></span>
<span>      <span class="va">runs_cumulative</span> <span class="op">/</span> <span class="va">balls_cumulative</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">1</span></span>
<span>    <span class="op">)</span>,</span>
<span>    wicket_ball_num <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">wicket_type</span><span class="op">)</span> <span class="op">~</span> <span class="va">balls_cumulative</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_real_</span></span>
<span>    <span class="op">)</span>,</span>
<span>    wicket_strike_rate <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">wicket_type</span><span class="op">)</span> <span class="op">~</span> <span class="va">rolling_strike_rate</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_real_</span></span>
<span>    <span class="op">)</span>,</span>
<span>    innings_description <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">innings</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"Batting 1st"</span>,</span>
<span>      <span class="va">innings</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"Batting 2nd"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    bowling_team_short <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/word.html" class="external-link">word</a></span><span class="op">(</span><span class="va">bowling_team</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>    start_date_day <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/day.html" class="external-link">day</a></span><span class="op">(</span><span class="va">start_date</span><span class="op">)</span>,</span>
<span>    start_date_month <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">start_date</span><span class="op">)</span>,</span>
<span>    match_details <span class="op">=</span> <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span></span>
<span>      <span class="st">"{innings_description} vs. {bowling_team_short} ({start_date_day}/{start_date_month})"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">match_id</span>, <span class="va">innings</span>, <span class="va">balls_cumulative</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    match_details <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span>
<span>      <span class="va">match_details</span>,</span>
<span>      levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">match_details</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    outcome_batting_team <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span>
<span>      <span class="va">outcome_batting_team</span>,</span>
<span>      levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"won"</span>, <span class="st">"lost"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="making-plots-1">Making plots<a class="anchor" aria-label="anchor" href="#making-plots-1"></a>
</h3>
<p>There’s plenty that can be done with the
<code>team_strike_rate</code> data which could warrant a dedicated
exploration in itself. But I usually find that when I’m exploring a new
analytical idea, it’s easier for me to get a feel for what the data does
and or doesn’t highlight by going with a “small batch” approach.</p>
<p>With the Renegades at the top of the standings (as of 7 Nov), I
focused on their team strike rates, a.k.a. <em>“wiggly bois”</em>:</p>
<p><img src="figs%2Ftweet.png" width="75%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter to Renegades' innings only --------------------------------------------</span></span>
<span><span class="va">team_strike_rate_renegades</span> <span class="op">&lt;-</span> <span class="va">team_strike_rate</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">batting_team</span>, <span class="st">"Renegades"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build plot -------------------------------------------------------------------</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html" class="external-link">showtext_auto</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">team_strike_rate_renegades</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">balls_cumulative</span>, y <span class="op">=</span> <span class="va">rolling_strike_rate</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">match_details</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">100</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span>, colour <span class="op">=</span> <span class="st">"#CCCCCC"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">outcome_batting_team</span><span class="op">)</span>, linewidth <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">team_strike_rate_renegades</span><span class="op">$</span><span class="va">wicket_ball_num</span>,</span>
<span>      y <span class="op">=</span> <span class="va">team_strike_rate_renegades</span><span class="op">$</span><span class="va">wicket_strike_rate</span></span>
<span>    <span class="op">)</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"red"</span>, size <span class="op">=</span> <span class="fl">3</span>, alpha <span class="op">=</span> <span class="fl">0.75</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"WBBL07: Melbourne Renegades - Team strike rate (games up to 7 Nov 2021)"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Ball number in an innings"</span>, y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"**Source:** Cricsheet.org // **Plot:** @jacquietran"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">120</span>, by <span class="op">=</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"won"</span> <span class="op">=</span> <span class="st">"#4a8bad"</span>, <span class="st">"lost"</span> <span class="op">=</span> <span class="st">"#AD4A8B"</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Renegades won"</span>, <span class="st">"Renegades lost"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">200</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">18</span>, family <span class="op">=</span> <span class="st">"roboto_con"</span>, colour <span class="op">=</span> <span class="st">"#FFFFFF"</span><span class="op">)</span>,</span>
<span>    legend.position <span class="op">=</span> <span class="st">"top"</span>,</span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    legend.key.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="st">"cm"</span><span class="op">)</span>,</span>
<span>    legend.margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    legend.spacing.x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">0</span>, <span class="st">"cm"</span><span class="op">)</span>,</span>
<span>    legend.spacing.y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">0</span>, <span class="st">"cm"</span><span class="op">)</span>,</span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"staat"</span>, margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">15</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    plot.caption <span class="op">=</span> <span class="fu"><a href="https://wilkelab.org/ggtext/reference/element_markdown.html" class="external-link">element_markdown</a></span><span class="op">(</span>size <span class="op">=</span> <span class="cn">NULL</span>, margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    strip.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"#FFFFFF"</span>, size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"#FFFFFF"</span><span class="op">)</span>,</span>
<span>    axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    panel.grid.major.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.grid.minor.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.grid.major.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_line</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"#203b60"</span>, linetype <span class="op">=</span> <span class="st">"dotted"</span><span class="op">)</span>,</span>
<span>    panel.grid.minor.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    plot.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span></span>
<span>      fill <span class="op">=</span> <span class="st">"#171F2AFF"</span>,</span>
<span>      colour <span class="op">=</span> <span class="cn">NA</span></span>
<span>    <span class="op">)</span>,</span>
<span>    panel.spacing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"lines"</span><span class="op">)</span>,</span>
<span>    plot.margin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>, <span class="st">"cm"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="cricsheet_files/figure-html/unnamed-chunk-11-1.png" width="100%"></p>
<p>The plots show the Renegades’ team strike rate across each innings
they’ve batted, with wicket occurrences overlaid. From a visual
assessment, it looks like wickets have not dampened the enthusiasm of
Renegades’ batters for striking the ball - broadly speaking, it appears
that, when the new batter comes in for the Renegades, they are often
able to maintain the team’s strike rate. In some games, they’ve even
managed to accelerate after losing a wicket.</p>
<p>Importantly, the Renegades have not lost many wickets in Powerplay
overs this season, which puts them in a better position to push the
scoring pace as an innings wears on with most of their wickets in
hand.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rob Hyndman, Charles Gray, Sayani Gupta, Timothy Hyndman, Hassan Rafique, Jacquie Tran.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
